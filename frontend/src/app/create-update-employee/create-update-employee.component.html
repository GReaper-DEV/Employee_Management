<div class="create-update-form-container">
    <h2 *ngIf="isUpdate">Update Employee</h2>
    <h2 *ngIf="!isUpdate">Create Employee</h2>

    <form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">

        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input formControlName="name" matInput placeholder="Name">
            <mat-hint>John Doe</mat-hint>
            <mat-error *ngIf="name?.hasError('name')">The name field is required.</mat-error>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input formControlName="email" matInput placeholder="Email">
            <mat-hint>{{'xxxx@xxxx.com'}}</mat-hint>
            <mat-spinner matSuffix [diameter]="25" style="right: 10px;" [mode]="'indeterminate'" *ngIf="employeeForm.pending"></mat-spinner>
            <mat-error *ngIf="email?.hasError('required')">Email is required</mat-error>
            <mat-error *ngIf="email?.hasError('pattern')">Please type a valid email.</mat-error>
            <mat-error *ngIf="email?.hasError('emailExists')" >This email already exists</mat-error>


        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Position</mat-label>
            <input formControlName="position" matInput placeholder="Position">
            <mat-hint>ex. Account Manager</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="outline">
            <mat-label>Salary</mat-label>
            <input formControlName="salary" matInput placeholder="Salary">
            <mat-hint>ex. 1234.56</mat-hint>
            <mat-error *ngIf="salary?.hasError('pattern')">Valid format is a number. (Optional: 2 Decimals)</mat-error>

        </mat-form-field>
        <mat-dialog-actions>
            <button mat-button [mat-dialog-close]="" color="warn">Cancel</button>
            <button *ngIf="isUpdate" [disabled]="employeeForm.pending || employeeForm.invalid " mat-button color="success" >Update</button>
            <button *ngIf="!isUpdate" [disabled]="employeeForm.pending || employeeForm.invalid " mat-button color="success" >Create</button>
        </mat-dialog-actions>
    </form>
</div>